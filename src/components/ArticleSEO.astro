---
import { SEO } from "astro-seo";

export interface Props {
	title: string;
	description: string;
	image?: string;
	author?: string;
	publishedTime?: string;
	modifiedTime?: string;
	tags?: string[];
	section?: string;
}

const { 
	title, 
	description, 
	image = "/og-image.jpg", 
	author = "Hamptons Lately Staff",
	publishedTime,
	modifiedTime,
	tags = [],
	section = "Hamptons News"
} = Astro.props;

const currentUrl = Astro.url.href;
const currentDate = publishedTime || new Date().toISOString();
---

<SEO
	title={title}
	description={description}
	canonical={currentUrl}
	openGraph={{
		basic: {
			title: title,
			type: "article",
			image: image,
			url: currentUrl,
		},
		optional: {
			description: description,
			siteName: "Hamptons Lately",
		},
		article: {
			publishedTime: currentDate,
			modifiedTime: modifiedTime || currentDate,
			authors: [author],
			section: section,
			tags: tags,
		}
	}}
	twitter={{
		card: "summary_large_image",
		site: "@hamptonslately",
		creator: "@hamptonslately",
		title: title,
		description: description,
		image: image,
		imageAlt: description,
	}}
	extend={{
		meta: [
			{ name: "author", content: author },
			{ name: "robots", content: "index, follow" },
			{ name: "article:published_time", content: currentDate },
			{ name: "article:section", content: section },
			{ name: "article:tag", content: tags.join(", ") },
			{ property: "og:image:alt", content: description },
			{ property: "og:image:width", content: "1200" },
			{ property: "og:image:height", content: "630" },
		],
		link: [
			{ rel: "icon", href: "/favicon.svg" },
			{ rel: "canonical", href: currentUrl },
		]
	}}
/>
